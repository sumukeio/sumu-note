# 思维笔记功能自动化测试清单

## 🧪 测试环境准备

1. 启动开发服务器：`npm run dev`
2. 打开浏览器：`http://localhost:3000`
3. 登录并进入思维笔记页面

---

## ✅ 测试用例 1: 撤销/重做功能

### 1.1 节点内容修改撤销/重做
- [ ] 创建一个节点，输入内容 "测试1"
- [ ] 修改内容为 "测试2"
- [ ] 按 `Ctrl+Z` 撤销，内容应恢复为 "测试1"
- [ ] 按 `Ctrl+Y` 重做，内容应恢复为 "测试2"

### 1.2 节点创建撤销/重做
- [ ] 创建一个新节点
- [ ] 按 `Ctrl+Z` 撤销，节点应被删除
- [ ] 按 `Ctrl+Y` 重做，节点应恢复

### 1.3 节点删除撤销/重做
- [ ] 删除一个节点
- [ ] 按 `Ctrl+Z` 撤销，节点应恢复
- [ ] 按 `Ctrl+Y` 重做，节点应再次被删除

### 1.4 标题修改撤销/重做
- [ ] 修改文档标题
- [ ] 按 `Ctrl+Z` 撤销，标题应恢复
- [ ] 按 `Ctrl+Y` 重做，标题应恢复为新值

### 1.5 工具栏撤销/重做按钮
- [ ] 执行一个操作
- [ ] 点击撤销按钮，操作应被撤销
- [ ] 点击重做按钮，操作应被重做
- [ ] 验证按钮的禁用状态（无操作时禁用）

---

## ✅ 测试用例 2: 方向键导航

### 2.1 上下键导航
- [ ] 创建一个包含多个节点的文档
- [ ] 点击选中第一个节点
- [ ] 按 `↓` 键，应选中下一个节点
- [ ] 按 `↑` 键，应选中上一个节点
- [ ] 验证选中节点的视觉反馈（蓝色高亮）

### 2.2 左右键展开/折叠
- [ ] 创建一个有子节点的节点
- [ ] 选中该节点
- [ ] 按 `→` 键，节点应展开
- [ ] 按 `←` 键，节点应折叠

### 2.3 空格键切换
- [ ] 选中一个有子节点的节点
- [ ] 按 `Space` 键，节点应切换展开/折叠状态
- [ ] 再次按 `Space` 键，状态应再次切换

### 2.4 自动滚动
- [ ] 创建一个包含很多节点的文档
- [ ] 选中第一个节点
- [ ] 多次按 `↓` 键，页面应自动滚动到选中节点

---

## ✅ 测试用例 3: 拖拽体验

### 3.1 拖拽预览
- [ ] 开始拖拽一个节点
- [ ] 验证显示拖拽预览（蓝色边框、阴影）
- [ ] 验证显示节点内容
- [ ] 如果节点有子节点，验证显示子节点数量

### 3.2 页面滚动锁定
- [ ] 开始拖拽节点
- [ ] 尝试滚动页面，页面应不能滚动
- [ ] 结束拖拽，页面滚动应恢复

### 3.3 文本选择锁定
- [ ] 开始拖拽节点
- [ ] 尝试选择文本，应不能选择
- [ ] 结束拖拽，文本选择应恢复

### 3.4 Drop Zone 高亮
- [ ] 拖拽节点到另一个节点上方
- [ ] 验证上半部分显示绿色高亮（作为子节点）
- [ ] 拖拽到节点下方
- [ ] 验证下半部分显示蓝色高亮（作为同级节点）

### 3.5 移动端拖拽
- [ ] 在移动设备上长按节点（250ms）
- [ ] 验证可以开始拖拽
- [ ] 验证拖拽灵敏度合适（不会误触）

---

## ✅ 测试用例 4: 节点对齐

### 4.1 圆点对齐
- [ ] 创建多个层级的节点
- [ ] 验证所有节点的圆点在同一垂直线上
- [ ] 验证不同层级的节点圆点正确对齐

### 4.2 竖线对齐
- [ ] 展开一个有子节点的节点
- [ ] 验证竖线从父节点圆点中心开始
- [ ] 验证竖线延伸到最后一个子节点
- [ ] 验证竖线位置正确（与圆点对齐）

### 4.3 缩进对齐
- [ ] 创建多个层级的节点
- [ ] 验证每级缩进为 1.5rem（24px）
- [ ] 验证缩进后节点内容对齐

---

## ✅ 测试用例 5: 快捷键功能

### 5.1 编辑模式快捷键
- [ ] 进入节点编辑模式
- [ ] 按 `Ctrl+A`，应全选节点内容
- [ ] 按 `Enter`，应保存并创建同级节点
- [ ] 按 `Tab`，应保存并创建子节点
- [ ] 按 `Shift+Tab`，应保存并提升层级
- [ ] 按 `Backspace`（光标在行首且内容为空），应删除节点

### 5.2 全局快捷键
- [ ] 按 `Ctrl+Z`，应撤销操作
- [ ] 按 `Ctrl+Y`，应重做操作
- [ ] 按 `Ctrl+N`，应跳转到新建笔记页面
- [ ] 按 `Ctrl+/`，应显示/隐藏快捷键帮助

### 5.3 快捷键帮助
- [ ] 点击"快捷键"按钮
- [ ] 验证显示快捷键列表
- [ ] 验证快捷键说明清晰易懂
- [ ] 按 `Ctrl+/`，对话框应关闭

---

## ✅ 测试用例 6: 边界情况

### 6.1 空节点处理
- [ ] 创建一个空节点
- [ ] 验证可以正常编辑
- [ ] 验证可以正常删除

### 6.2 根节点操作
- [ ] 选中根节点
- [ ] 验证可以正常操作（创建、删除、编辑）
- [ ] 验证根节点可以折叠/展开

### 6.3 深层嵌套
- [ ] 创建10层嵌套的节点
- [ ] 验证可以正常操作
- [ ] 验证UI显示正常

### 6.4 大量节点
- [ ] 创建100+个节点
- [ ] 验证页面性能正常
- [ ] 验证操作响应及时

### 6.5 网络错误
- [ ] 断开网络连接
- [ ] 执行操作，验证错误提示
- [ ] 恢复网络，验证可以正常操作

---

## 📊 测试结果记录

### 测试日期：___________
### 测试人员：___________

| 测试用例 | 状态 | 备注 |
|---------|------|------|
| 1.1 节点内容修改撤销/重做 | ⬜ | |
| 1.2 节点创建撤销/重做 | ⬜ | |
| 1.3 节点删除撤销/重做 | ⬜ | |
| 1.4 标题修改撤销/重做 | ⬜ | |
| 1.5 工具栏撤销/重做按钮 | ⬜ | |
| 2.1 上下键导航 | ⬜ | |
| 2.2 左右键展开/折叠 | ⬜ | |
| 2.3 空格键切换 | ⬜ | |
| 2.4 自动滚动 | ⬜ | |
| 3.1 拖拽预览 | ⬜ | |
| 3.2 页面滚动锁定 | ⬜ | |
| 3.3 文本选择锁定 | ⬜ | |
| 3.4 Drop Zone 高亮 | ⬜ | |
| 3.5 移动端拖拽 | ⬜ | |
| 4.1 圆点对齐 | ⬜ | |
| 4.2 竖线对齐 | ⬜ | |
| 4.3 缩进对齐 | ⬜ | |
| 5.1 编辑模式快捷键 | ⬜ | |
| 5.2 全局快捷键 | ⬜ | |
| 5.3 快捷键帮助 | ⬜ | |
| 6.1 空节点处理 | ⬜ | |
| 6.2 根节点操作 | ⬜ | |
| 6.3 深层嵌套 | ⬜ | |
| 6.4 大量节点 | ⬜ | |
| 6.5 网络错误 | ⬜ | |

---

## 🐛 发现的 Bug

### Bug 1
- **描述**：
- **复现步骤**：
- **预期行为**：
- **实际行为**：
- **优先级**：高/中/低

### Bug 2
- **描述**：
- **复现步骤**：
- **预期行为**：
- **实际行为**：
- **优先级**：高/中/低

---

## 💡 改进建议

1. 
2. 
3. 

---

## ✅ 测试总结

- **总测试用例数**：25
- **通过数**：___
- **失败数**：___
- **阻塞数**：___
- **通过率**：___%

**测试结论**：✅ 通过 / ❌ 失败 / ⚠️ 部分通过



















